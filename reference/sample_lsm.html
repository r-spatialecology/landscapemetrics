<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>sample_lsm — sample_lsm • landscapemetrics</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="sample_lsm — sample_lsm"><meta name="description" content="Sample metrics"><meta property="og:description" content="Sample metrics"><meta property="og:image" content="https://r-spatialecology.github.io/landscapemetrics/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">landscapemetrics</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.1.4</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/get_started.html"><span class="fa fa-magic"></span> Get Started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html"><span class="fa fa-gears"></span> Functions</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-more" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true"><span class="fa fa-graduation-cap"></span> More</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-more"><li><a class="dropdown-item" href="../articles/general_background.html"><span class="fa fa-book"></span> General Background</a></li>
    <li><a class="dropdown-item" href="../articles/comparing_tools.html"><span class="fa fa-book"></span> Differences FRAGSTATS|landscapemetrics</a></li>
    <li><a class="dropdown-item" href="../articles/landscape_distribution_statistics.html"><span class="fa fa-book"></span> Landscape distribution statistics</a></li>
    <li><a class="dropdown-item" href="../articles/new_metrics.html"><span class="fa fa-book"></span> New Metrics outside FRAGSTATS</a></li>
    <li><a class="dropdown-item" href="../articles/guide_sample_lsm.html"><span class="fa fa-book"></span> Sample metrics</a></li>
    <li><a class="dropdown-item" href="../articles/guide_moving_window.html"><span class="fa fa-book"></span> Moving window</a></li>
    <li><a class="dropdown-item" href="../articles/irregular_areas.html"><span class="fa fa-book"></span> Calculating landscape metrics for irregular areas</a></li>
    <li><a class="dropdown-item" href="../articles/utility.html"><span class="fa fa-book"></span> Utility functions</a></li>
    <li><a class="dropdown-item" href="../articles/publication_record.html"><span class="fa fa-file-text-o"></span> Publication Record</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html"><span class="fa fa-newspaper-o"></span> News</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link" href="https://github.com/r-spatialecology/landscapemetrics/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://www.maxhesselbarth.com/"><span class="fa fa-user"></span></a></li>
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>sample_lsm</h1>
      <small class="dont-index">Source: <a href="https://github.com/r-spatialecology/landscapemetrics/blob/main/R/sample_lsm.R" class="external-link"><code>R/sample_lsm.R</code></a></small>
      <div class="d-none name"><code>sample_lsm.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Sample metrics</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">sample_lsm</span><span class="op">(</span></span>
<span>  <span class="va">landscape</span>,</span>
<span>  <span class="va">y</span>,</span>
<span>  plot_id <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  shape <span class="op">=</span> <span class="st">"square"</span>,</span>
<span>  size <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  all_classes <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  return_raster <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  progress <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-landscape">landscape<a class="anchor" aria-label="anchor" href="#arg-landscape"></a></dt>
<dd><p>A categorical raster object: SpatRaster; Raster* Layer, Stack, Brick; stars or a list of SpatRasters.</p></dd>


<dt id="arg-y">y<a class="anchor" aria-label="anchor" href="#arg-y"></a></dt>
<dd><p>2-column matrix with coordinates, sf point geometries, or sf polygon geometries.</p></dd>


<dt id="arg-plot-id">plot_id<a class="anchor" aria-label="anchor" href="#arg-plot-id"></a></dt>
<dd><p>Vector with id of sample points. If not provided, sample
points will be labelled 1...n.</p></dd>


<dt id="arg-shape">shape<a class="anchor" aria-label="anchor" href="#arg-shape"></a></dt>
<dd><p>String specifying plot shape. Either "circle" or "square"</p></dd>


<dt id="arg-size">size<a class="anchor" aria-label="anchor" href="#arg-size"></a></dt>
<dd><p>Approximated size of sample plot. Equals the radius for circles or half of
the side-length for squares in map units. For lines size equals the width of the buffer.</p></dd>


<dt id="arg-all-classes">all_classes<a class="anchor" aria-label="anchor" href="#arg-all-classes"></a></dt>
<dd><p>Logical if NA should be returned for classes not present in some sample plots.</p></dd>


<dt id="arg-return-raster">return_raster<a class="anchor" aria-label="anchor" href="#arg-return-raster"></a></dt>
<dd><p>Logical if the clipped raster of the sample plot should
be returned</p></dd>


<dt id="arg-verbose">verbose<a class="anchor" aria-label="anchor" href="#arg-verbose"></a></dt>
<dd><p>Print warning messages.</p></dd>


<dt id="arg-progress">progress<a class="anchor" aria-label="anchor" href="#arg-progress"></a></dt>
<dd><p>Print progress report.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Arguments passed on to <code><a href="calculate_lsm.html">calculate_lsm()</a></code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>tibble</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This function samples the selected metrics in a buffer area (sample plot)
around sample points, sample lines or within provided polygons. The size of the actual
sampled landscape can be different to the provided size due to two reasons.
Firstly, because clipping raster cells using a circle or a sample plot not directly
at a cell center lead to inaccuracies. Secondly, sample plots can exceed the
landscape boundary. Therefore, we report the actual clipped sample plot area relative
in relation to the theoretical, maximum sample plot area e.g. a sample plot only half
within the landscape will have a <code>percentage_inside = 50</code>. Additionally, if the polygon
representing the sample plot is smaller than the cell size of the raster,
the <code>percentage_inside</code> may exceed 100%.Please be aware that the
output is slightly different to all other <code>lsm</code>-function of <code>landscapemetrics</code>.</p>
<p>Please be aware that the function behaves differently for POLYGONS and MULTIPOLYGONS.
In the first case, each polygon is used as a singular sample area, while in the second
case all polygons are used as one sample area.</p>
<p>The metrics can be specified by the arguments <code>what</code>, <code>level</code>, <code>metric</code>, <code>name</code>
and/or <code>type</code> (combinations of different arguments are possible (e.g.
<code>level = "class", type = "aggregation metric"</code>). If an argument is not provided,
automatically all possibilities are selected. Therefore, to get <strong>all</strong>
available metrics, don't specify any of the above arguments.</p>
<p>For all metrics based on distances or areas please make sure your data is valid
using <code><a href="check_landscape.html">check_landscape</a></code>.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="list_lsm.html">list_lsm</a></code> <br><code><a href="calculate_lsm.html">calculate_lsm</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">landscape</span> <span class="op">&lt;-</span> <span class="fu">terra</span><span class="fu">::</span><span class="fu"><a href="https://rspatial.github.io/terra/reference/rast.html" class="external-link">rast</a></span><span class="op">(</span><span class="fu">landscapemetrics</span><span class="fu">::</span><span class="va"><a href="landscape.html">landscape</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># use a matrix</span></span></span>
<span class="r-in"><span><span class="va">sample_points</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">5</span>, <span class="fl">25</span>, <span class="fl">15</span>, <span class="fl">5</span>, <span class="fl">25</span><span class="op">)</span>, ncol <span class="op">=</span> <span class="fl">2</span>, byrow <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">sample_lsm</span><span class="op">(</span><span class="va">landscape</span>, y <span class="op">=</span> <span class="va">sample_points</span>, size <span class="op">=</span> <span class="fl">15</span>, what <span class="op">=</span> <span class="st">"lsm_l_np"</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>The 'perecentage_inside' is below 90% for at least one buffer.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Please use 'check_landscape()' to ensure the input data is valid.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 3 × 8</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   layer level     class    id metric value plot_id percentage_inside</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span>     1 landscape    <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span> np        20       1              55.6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span>     1 landscape    <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span> np        20       2              66.7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span>     1 landscape    <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span> np        14       3              44.4</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Maximilian H.K. Hesselbarth, Marco Sciaini, Jakub Nowosad, Sebastian Hanss.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

